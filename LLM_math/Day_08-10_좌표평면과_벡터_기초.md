# Day 8-10: 좌표평면과 벡터 기초 (3시간)

## 📚 학습 목표
- 2D 좌표계를 이해하고 점을 표현하기
- 벡터를 화살표로 시각화하기
- 벡터의 덧셈과 스칼라배 완벽히 이해하기
- LLM 임베딩 공간의 기초 다지기

---

## 🎯 강의 주제
**"수를 평면에 그려보기"**

---

## 📖 핵심 개념

### 1. 좌표평면 (Coordinate Plane)

#### 1.1 2D 좌표계
**두 개의 수직인 축으로 평면을 나타냄**

```
     y축 ↑
         |
         |
  -------+-------> x축
         |
         |
      원점(0,0)
```

**점의 표현**:
```
P = (x, y)
- x: x좌표 (가로)
- y: y좌표 (세로)
```

**예시**:
```
A = (3, 2): x축으로 3, y축으로 2
B = (-2, 4): x축으로 -2, y축으로 4
C = (0, 0): 원점
```

#### 1.2 사분면 (Quadrants)
```
    II  |  I
    (-, +) | (+, +)
  ------+------
    III | IV
    (-, -) | (+, -)
```

---

### 2. 벡터의 기하학적 이해

#### 2.1 벡터란?
**크기와 방향을 가진 화살표**

**표기법**:
```
v⃗ = [v_x, v_y]  또는  v = (v_x, v_y)
```

**기하학적 표현**:
```
  ↑
  |   →
  |  v⃗
  +--------
```

**예시**:
```
v⃗ = [3, 2]
- x 방향으로 3
- y 방향으로 2
- 원점 (0,0)에서 (3,2)로 가는 화살표
```

#### 2.2 위치 벡터 vs 변위 벡터

**위치 벡터 (Position Vector)**:
```
원점에서 점 P까지의 벡터
P = (3, 2) → v⃗ = [3, 2]
```

**변위 벡터 (Displacement Vector)**:
```
점 A에서 점 B까지의 벡터
A = (1, 1), B = (4, 3)
AB⃗ = B - A = [3, 2]
```

---

### 3. 벡터의 기본 연산

#### 3.1 벡터의 덧셈

**정의**:
```
u⃗ = [u_x, u_y]
v⃗ = [v_x, v_y]

u⃗ + v⃗ = [u_x + v_x, u_y + v_y]
```

**기하학적 의미**: "머리와 꼬리 연결"
```
u⃗ = [2, 1]
v⃗ = [1, 2]

     v⃗
    ↗
  u⃗+v⃗
  ↗
u⃗→

u⃗ + v⃗ = [3, 3]
```

**평행사변형 법칙**:
```
    v⃗
   ↗ \
  /   ↘ u⃗+v⃗
u⃗→    ↘
```

**예시**:
```
u⃗ = [3, 1]
v⃗ = [1, 2]
u⃗ + v⃗ = [4, 3]
```

#### 3.2 벡터의 뺄셈

**정의**:
```
u⃗ - v⃗ = [u_x - v_x, u_y - v_y]
```

**기하학적 의미**: "v⃗의 반대 방향 벡터를 더하기"
```
u⃗ - v⃗ = u⃗ + (-v⃗)
```

**예시**:
```
u⃗ = [5, 3]
v⃗ = [2, 1]
u⃗ - v⃗ = [3, 2]
```

#### 3.3 스칼라배 (Scalar Multiplication)

**정의**:
```
c · v⃗ = [c·v_x, c·v_y]
```

**기하학적 의미**:
- c > 1: 벡터 늘어남
- 0 < c < 1: 벡터 줄어듦
- c < 0: 방향 반대

**예시**:
```
v⃗ = [2, 1]

2v⃗ = [4, 2]  (2배 길어짐)
0.5v⃗ = [1, 0.5]  (절반으로 줄어듦)
-v⃗ = [-2, -1]  (반대 방향)
```

**시각화**:
```
-v⃗ ←  O  → v⃗ → 2v⃗
```

---

### 4. 벡터의 크기 (Magnitude)

#### 4.1 벡터의 길이
**피타고라스 정리 활용**

```
||v⃗|| = √(v_x² + v_y²)
```

**예시**:
```
v⃗ = [3, 4]
||v⃗|| = √(9 + 16) = √25 = 5
```

#### 4.2 단위 벡터 (Unit Vector)
**크기가 1인 벡터**

```
v̂ = v⃗ / ||v⃗||
```

**예시**:
```
v⃗ = [3, 4]
||v⃗|| = 5

v̂ = [3/5, 4/5] = [0.6, 0.8]
||v̂|| = √(0.36 + 0.64) = 1
```

**활용**: 방향만 중요할 때 (정규화)

---

### 5. 기저 벡터 (Basis Vectors)

#### 5.1 표준 기저 벡터
```
x 방향: e⃗_x = [1, 0]  (또는 i⃗)
y 방향: e⃗_y = [0, 1]  (또는 j⃗)
```

**모든 벡터는 기저 벡터의 조합**:
```
v⃗ = [3, 2] = 3·[1, 0] + 2·[0, 1]
           = 3·e⃗_x + 2·e⃗_y
```

#### 5.2 3D로 확장
```
e⃗_x = [1, 0, 0]
e⃗_y = [0, 1, 0]
e⃗_z = [0, 0, 1]

v⃗ = [2, 3, 4] = 2·e⃗_x + 3·e⃗_y + 4·e⃗_z
```

---

## 💻 Python 실습

### 실습 1: 좌표평면에 점 그리기
```python
import numpy as np
import matplotlib.pyplot as plt

# 점들 정의
points = {
    'A': (3, 2),
    'B': (-2, 4),
    'C': (4, -1),
    'D': (-3, -3),
    'O': (0, 0)
}

# 그래프 설정
plt.figure(figsize=(10, 10))
plt.axhline(y=0, color='k', linewidth=0.5)
plt.axvline(x=0, color='k', linewidth=0.5)
plt.grid(True, alpha=0.3)

# 점 그리기
for name, (x, y) in points.items():
    plt.plot(x, y, 'ro', markersize=10)
    plt.text(x+0.2, y+0.2, f'{name}({x}, {y})', fontsize=12)

# 사분면 레이블
plt.text(3, 4, 'I\n(+, +)', fontsize=14, ha='center')
plt.text(-3, 4, 'II\n(-, +)', fontsize=14, ha='center')
plt.text(-3, -4, 'III\n(-, -)', fontsize=14, ha='center')
plt.text(3, -4, 'IV\n(+, -)', fontsize=14, ha='center')

plt.xlim(-5, 5)
plt.ylim(-5, 5)
plt.xlabel('x', fontsize=12)
plt.ylabel('y', fontsize=12)
plt.title('2D 좌표평면', fontsize=14)
plt.tight_layout()
plt.savefig('coordinate_plane.png', dpi=150, bbox_inches='tight')
print("좌표평면 그래프 저장 완료!")
```

### 실습 2: 벡터 시각화
```python
import numpy as np
import matplotlib.pyplot as plt

def plot_vector(ax, origin, vector, color='blue', label=''):
    """벡터를 화살표로 그리기"""
    ax.quiver(origin[0], origin[1], vector[0], vector[1],
              angles='xy', scale_units='xy', scale=1,
              color=color, width=0.01, label=label)

# 그래프 설정
fig, ax = plt.subplots(figsize=(10, 10))
ax.set_xlim(-1, 6)
ax.set_ylim(-1, 5)
ax.set_aspect('equal')
ax.grid(True, alpha=0.3)
ax.axhline(y=0, color='k', linewidth=0.5)
ax.axvline(x=0, color='k', linewidth=0.5)

# 벡터 정의
u = np.array([3, 1])
v = np.array([1, 2])

# 벡터 그리기
plot_vector(ax, [0, 0], u, color='blue', label='u⃗ = [3, 1]')
plot_vector(ax, [0, 0], v, color='red', label='v⃗ = [1, 2]')

# 벡터 끝점 표시
ax.plot(u[0], u[1], 'bo', markersize=8)
ax.plot(v[0], v[1], 'ro', markersize=8)

# 레이블
ax.text(u[0]/2, u[1]/2 - 0.3, 'u⃗', fontsize=14, color='blue')
ax.text(v[0]/2 - 0.3, v[1]/2, 'v⃗', fontsize=14, color='red')

ax.set_xlabel('x', fontsize=12)
ax.set_ylabel('y', fontsize=12)
ax.set_title('벡터의 시각화', fontsize=14)
ax.legend()
plt.tight_layout()
plt.savefig('vector_visualization.png', dpi=150, bbox_inches='tight')
print("벡터 시각화 저장 완료!")
```

### 실습 3: 벡터 덧셈과 뺄셈
```python
import numpy as np
import matplotlib.pyplot as plt

def plot_vector_add(u, v):
    """벡터 덧셈 시각화"""
    fig, axes = plt.subplots(1, 2, figsize=(16, 8))

    for ax in axes:
        ax.set_xlim(-1, 6)
        ax.set_ylim(-1, 5)
        ax.set_aspect('equal')
        ax.grid(True, alpha=0.3)
        ax.axhline(y=0, color='k', linewidth=0.5)
        ax.axvline(x=0, color='k', linewidth=0.5)

    # 왼쪽: 머리-꼬리 연결
    ax1 = axes[0]
    ax1.quiver(0, 0, u[0], u[1], angles='xy', scale_units='xy', scale=1,
               color='blue', width=0.01, label='u⃗')
    ax1.quiver(u[0], u[1], v[0], v[1], angles='xy', scale_units='xy', scale=1,
               color='red', width=0.01, label='v⃗')
    ax1.quiver(0, 0, u[0]+v[0], u[1]+v[1], angles='xy', scale_units='xy', scale=1,
               color='green', width=0.015, label='u⃗ + v⃗')
    ax1.set_title('벡터 덧셈: 머리-꼬리 연결', fontsize=14)
    ax1.legend()

    # 오른쪽: 평행사변형 법칙
    ax2 = axes[1]
    ax2.quiver(0, 0, u[0], u[1], angles='xy', scale_units='xy', scale=1,
               color='blue', width=0.01, label='u⃗')
    ax2.quiver(0, 0, v[0], v[1], angles='xy', scale_units='xy', scale=1,
               color='red', width=0.01, label='v⃗')

    # 평행사변형 그리기
    ax2.plot([u[0], u[0]+v[0]], [u[1], u[1]+v[1]], 'r--', alpha=0.5)
    ax2.plot([v[0], u[0]+v[0]], [v[1], u[1]+v[1]], 'b--', alpha=0.5)

    # 합 벡터
    ax2.quiver(0, 0, u[0]+v[0], u[1]+v[1], angles='xy', scale_units='xy', scale=1,
               color='green', width=0.015, label='u⃗ + v⃗')
    ax2.set_title('벡터 덧셈: 평행사변형 법칙', fontsize=14)
    ax2.legend()

    plt.tight_layout()
    plt.savefig('vector_addition.png', dpi=150, bbox_inches='tight')
    print("벡터 덧셈 시각화 저장 완료!")

# 벡터 정의
u = np.array([3, 1])
v = np.array([1, 2])

print("=== 벡터 덧셈 ===")
print(f"u⃗ = {u}")
print(f"v⃗ = {v}")
print(f"u⃗ + v⃗ = {u + v}")

plot_vector_add(u, v)
```

### 실습 4: 스칼라배
```python
import numpy as np
import matplotlib.pyplot as plt

# 벡터 정의
v = np.array([2, 1])

# 다양한 스칼라
scalars = [-1, -0.5, 0.5, 1, 1.5, 2]
colors = ['red', 'orange', 'yellow', 'green', 'blue', 'purple']

# 시각화
fig, ax = plt.subplots(figsize=(12, 8))
ax.set_xlim(-5, 5)
ax.set_ylim(-3, 3)
ax.set_aspect('equal')
ax.grid(True, alpha=0.3)
ax.axhline(y=0, color='k', linewidth=0.5)
ax.axvline(x=0, color='k', linewidth=0.5)

for scalar, color in zip(scalars, colors):
    scaled_v = scalar * v
    ax.quiver(0, 0, scaled_v[0], scaled_v[1],
              angles='xy', scale_units='xy', scale=1,
              color=color, width=0.008,
              label=f'{scalar}v⃗ = {scaled_v}')

ax.set_xlabel('x', fontsize=12)
ax.set_ylabel('y', fontsize=12)
ax.set_title('스칼라배 (Scalar Multiplication)', fontsize=14)
ax.legend(loc='upper right')
plt.tight_layout()
plt.savefig('scalar_multiplication.png', dpi=150, bbox_inches='tight')
print("스칼라배 시각화 저장 완료!")

# 수치 출력
print("\n=== 스칼라배 ===")
print(f"v⃗ = {v}")
for scalar in scalars:
    print(f"{scalar:4.1f} × v⃗ = {scalar * v}")
```

### 실습 5: 벡터의 크기와 정규화
```python
import numpy as np

def vector_magnitude(v):
    """벡터의 크기 계산"""
    return np.sqrt(np.sum(v**2))

def normalize(v):
    """벡터 정규화 (단위 벡터)"""
    mag = vector_magnitude(v)
    return v / mag if mag != 0 else v

# 예시 벡터들
vectors = {
    'v1': np.array([3, 4]),
    'v2': np.array([1, 1]),
    'v3': np.array([5, 12]),
    'v4': np.array([0, 7])
}

print("=== 벡터의 크기와 정규화 ===\n")

for name, v in vectors.items():
    mag = vector_magnitude(v)
    unit_v = normalize(v)
    unit_mag = vector_magnitude(unit_v)

    print(f"{name} = {v}")
    print(f"  크기: ||{name}|| = {mag:.4f}")
    print(f"  단위 벡터: {unit_v}")
    print(f"  단위 벡터의 크기: {unit_mag:.4f}")
    print()

# LLM 임베딩 예시 (고차원)
print("=== LLM 임베딩 벡터 (고차원) ===")
embedding = np.random.randn(512)  # 512차원 벡터
mag = vector_magnitude(embedding)
normalized = normalize(embedding)
norm_mag = vector_magnitude(normalized)

print(f"임베딩 차원: {embedding.shape[0]}")
print(f"원본 크기: {mag:.4f}")
print(f"정규화 후 크기: {norm_mag:.4f}")
print(f"임베딩 일부: {embedding[:5]}")
print(f"정규화 임베딩 일부: {normalized[:5]}")

print("\n✅ 정규화 = 방향은 유지, 크기만 1로!")
```

### 실습 6: 기저 벡터
```python
import numpy as np
import matplotlib.pyplot as plt

# 표준 기저 벡터
e_x = np.array([1, 0])
e_y = np.array([0, 1])

# 임의의 벡터
v = np.array([3, 2])

# 시각화
fig, ax = plt.subplots(figsize=(10, 10))
ax.set_xlim(-0.5, 4)
ax.set_ylim(-0.5, 3)
ax.set_aspect('equal')
ax.grid(True, alpha=0.3)
ax.axhline(y=0, color='k', linewidth=1)
ax.axvline(x=0, color='k', linewidth=1)

# 기저 벡터
ax.quiver(0, 0, e_x[0], e_x[1], angles='xy', scale_units='xy', scale=1,
          color='red', width=0.015, label='e⃗ₓ = [1, 0]')
ax.quiver(0, 0, e_y[0], e_y[1], angles='xy', scale_units='xy', scale=1,
          color='blue', width=0.015, label='e⃗ᵧ = [0, 1]')

# v = 3·e_x + 2·e_y 시각화
ax.quiver(0, 0, 3*e_x[0], 3*e_x[1], angles='xy', scale_units='xy', scale=1,
          color='pink', width=0.01, alpha=0.5, linestyle='--', label='3e⃗ₓ')
ax.quiver(3, 0, 2*e_y[0], 2*e_y[1], angles='xy', scale_units='xy', scale=1,
          color='lightblue', width=0.01, alpha=0.5, label='2e⃗ᵧ')

# 최종 벡터
ax.quiver(0, 0, v[0], v[1], angles='xy', scale_units='xy', scale=1,
          color='green', width=0.02, label='v⃗ = 3e⃗ₓ + 2e⃗ᵧ')

ax.set_xlabel('x', fontsize=12)
ax.set_ylabel('y', fontsize=12)
ax.set_title('기저 벡터로 벡터 표현', fontsize=14)
ax.legend()
plt.tight_layout()
plt.savefig('basis_vectors.png', dpi=150, bbox_inches='tight')

print("=== 기저 벡터 ===")
print(f"e⃗ₓ = {e_x}")
print(f"e⃗ᵧ = {e_y}")
print(f"\nv⃗ = {v}")
print(f"v⃗ = {v[0]}·e⃗ₓ + {v[1]}·e⃗ᵧ")
print(f"  = {v[0]}·{e_x} + {v[1]}·{e_y}")
print(f"  = {v[0]*e_x + v[1]*e_y}")

print("\n✅ 모든 벡터는 기저 벡터의 선형 결합!")
```

---

## ✍️ 손 계산 연습

### 연습 1: 벡터 덧셈
```
u⃗ = [2, 3]
v⃗ = [4, 1]

u⃗ + v⃗ = [2+4, 3+1] = [6, 4]
```

### 연습 2: 벡터 뺄셈
```
u⃗ = [5, 7]
v⃗ = [2, 3]

u⃗ - v⃗ = [5-2, 7-3] = [3, 4]
```

### 연습 3: 스칼라배
```
v⃗ = [3, 2]

2v⃗ = [6, 4]
-v⃗ = [-3, -2]
0.5v⃗ = [1.5, 1]
```

### 연습 4: 벡터의 크기
```
v⃗ = [3, 4]
||v⃗|| = √(3² + 4²) = √(9 + 16) = √25 = 5
```

### 연습 5: 정규화
```
v⃗ = [3, 4]
||v⃗|| = 5

v̂ = v⃗ / ||v⃗|| = [3/5, 4/5] = [0.6, 0.8]

검증: ||v̂|| = √(0.6² + 0.8²) = √(0.36 + 0.64) = 1 ✓
```

---

## 🔗 LLM 연결점

### 1. 임베딩 = 고차원 벡터
```python
# 단어 임베딩: 512차원 벡터
"사과" → [0.12, -0.34, 0.56, ..., 0.78]  # 512개 숫자

# 문장 임베딩: 768차원 벡터
"안녕하세요" → [0.23, 0.45, -0.12, ..., 0.34]  # 768개 숫자
```

### 2. 코사인 유사도 (다음 강의에서 자세히)
```
유사도 = (벡터1 · 벡터2) / (||벡터1|| × ||벡터2||)
```

### 3. 임베딩 정규화
```python
# L2 정규화 (단위 벡터로 만들기)
embedding_normalized = embedding / ||embedding||

# 이유: 코사인 유사도 계산 단순화
```

---

## ✅ 체크포인트

- [ ] **벡터를 화살표로 그릴 수 있나요?**

- [ ] **벡터의 덧셈을 시각적으로 이해했나요?**

- [ ] **스칼라배의 의미를 설명할 수 있나요?**

- [ ] **벡터의 크기를 계산할 수 있나요?**

- [ ] **벡터 정규화가 무엇인지 이해했나요?**

- [ ] **기저 벡터로 벡터를 표현할 수 있나요?**

---

## 🎓 핵심 요약

1. **좌표평면**: (x, y)로 점 표현
2. **벡터**: 크기와 방향을 가진 화살표
3. **벡터 덧셈**: 성분별 덧셈, 머리-꼬리 연결
4. **스칼라배**: c·v⃗, 길이 변화와 방향 변화
5. **벡터 크기**: ||v⃗|| = √(x² + y²)
6. **정규화**: v̂ = v⃗ / ||v⃗||, 단위 벡터로 만들기
7. **기저 벡터**: 모든 벡터를 표현하는 기본 벡터

### 다음 학습
- **Day 11**: 벡터의 길이와 거리
  - L2 노름의 깊이 있는 이해
  - 유클리드 거리

---

**수고하셨습니다!** 🎉

**기초 다지기 (Day 1-10) 완료!**

이제 본격적으로 선형대수로 들어갑니다!
