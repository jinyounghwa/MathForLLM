# Day 6-7: ë³€ìˆ˜, ë°©ì •ì‹, ì—°ë¦½ë°©ì •ì‹ (3ì‹œê°„)

## ğŸ“š í•™ìŠµ ëª©í‘œ
- ë³€ìˆ˜ì™€ ë°©ì •ì‹ì˜ ë³¸ì§ˆ ì´í•´í•˜ê¸°
- ì¼ì°¨ë°©ì •ì‹ê³¼ ì´ì°¨ë°©ì •ì‹ í’€ì´ ì™„ë²½íˆ ìˆ™ë‹¬í•˜ê¸°
- ì—°ë¦½ë°©ì •ì‹ì„ í–‰ë ¬ í‘œí˜„ (Ax = b)ë¡œ ì—°ê²°í•˜ê¸°
- ê°€ê°ë²•, ëŒ€ì…ë²• ì™„ë²½ ì´í•´í•˜ê¸°

---

## ğŸ¯ ê°•ì˜ ì£¼ì œ
**"ëª¨ë¥´ëŠ” ìˆ˜ë¥¼ xë¼ê³  í•˜ì"**

---

## ğŸ“– í•µì‹¬ ê°œë…

### 1. ë³€ìˆ˜ (Variable)

#### 1.1 ë³€ìˆ˜ë€?
**ê°’ì´ ë³€í•  ìˆ˜ ìˆëŠ” ê¸°í˜¸ (ë³´í†µ x, y, z)**

**ì¢…ë¥˜**:
1. **ë¯¸ì§€ìˆ˜**: ê°’ì„ ì°¾ì•„ì•¼ í•˜ëŠ” ë³€ìˆ˜
   ```
   x + 3 = 7  â†’ x = ?
   ```

2. **ë§¤ê°œë³€ìˆ˜**: ê°’ì„ ëŒ€ì…í•  ìˆ˜ ìˆëŠ” ë³€ìˆ˜
   ```
   f(x) = 2x + 1  â†’ xì— ë‹¤ì–‘í•œ ê°’ ëŒ€ì… ê°€ëŠ¥
   ```

---

### 2. ì¼ì°¨ ë°©ì •ì‹

#### 2.1 ì¼ì°¨ ë°©ì •ì‹ì˜ í˜•íƒœ
```
ax + b = 0  (a â‰  0)
```

**í’€ì´**:
```
ax + b = 0
ax = -b
x = -b/a
```

**ì˜ˆì‹œ**:
```
3x + 6 = 0
3x = -6
x = -2
```

#### 2.2 ì¼ì°¨ ë°©ì •ì‹ì˜ ì‘ìš©
```
2x + 5 = 11

Step 1: ìƒìˆ˜í•­ì„ ìš°ë³€ìœ¼ë¡œ
2x = 11 - 5
2x = 6

Step 2: ê³„ìˆ˜ë¡œ ë‚˜ëˆ„ê¸°
x = 3
```

---

### 3. ì´ì°¨ ë°©ì •ì‹

#### 3.1 ì´ì°¨ ë°©ì •ì‹ì˜ í˜•íƒœ
```
axÂ² + bx + c = 0  (a â‰  0)
```

#### 3.2 ê·¼ì˜ ê³µì‹ â­
```
x = (-b Â± âˆš(bÂ² - 4ac)) / 2a
```

**íŒë³„ì‹ (Discriminant)**:
```
D = bÂ² - 4ac
```

- D > 0: ì„œë¡œ ë‹¤ë¥¸ ë‘ ì‹¤ê·¼
- D = 0: ì¤‘ê·¼ (ê°™ì€ ê·¼ 2ê°œ)
- D < 0: í—ˆê·¼ (ë³µì†Œìˆ˜ í•´)

**ì˜ˆì‹œ**:
```
xÂ² - 5x + 6 = 0
a = 1, b = -5, c = 6

x = (5 Â± âˆš(25 - 24)) / 2
  = (5 Â± 1) / 2
  = 3 ë˜ëŠ” 2
```

#### 3.3 ì¸ìˆ˜ë¶„í•´
```
xÂ² - 5x + 6 = 0
(x - 2)(x - 3) = 0
x = 2 ë˜ëŠ” x = 3
```

---

### 4. ì—°ë¦½ë°©ì •ì‹

#### 4.1 ì´ì› ì¼ì°¨ ì—°ë¦½ë°©ì •ì‹
**ë‘ ê°œì˜ ë¯¸ì§€ìˆ˜, ë‘ ê°œì˜ ë°©ì •ì‹**

```
{ 2x + 3y = 8   ... (1)
{ 3x - y = 5    ... (2)
```

#### 4.2 í’€ì´ë²• 1: ê°€ê°ë²•

**Step 1**: í•œ ë³€ìˆ˜ì˜ ê³„ìˆ˜ë¥¼ ê°™ê²Œ ë§Œë“¤ê¸°
```
(1) Ã— 1:  2x + 3y = 8
(2) Ã— 3:  9x - 3y = 15
```

**Step 2**: ë”í•˜ê±°ë‚˜ ë¹¼ê¸°
```
(2x + 3y) + (9x - 3y) = 8 + 15
11x = 23
x = 23/11
```

**Step 3**: ë‹¤ë¥¸ ë³€ìˆ˜ êµ¬í•˜ê¸°
```
2(23/11) + 3y = 8
3y = 8 - 46/11
y = ...
```

#### 4.3 í’€ì´ë²• 2: ëŒ€ì…ë²•

**Step 1**: í•œ ë°©ì •ì‹ì—ì„œ í•œ ë³€ìˆ˜ë¥¼ ë‹¤ë¥¸ ë³€ìˆ˜ë¡œ í‘œí˜„
```
(2)ì—ì„œ: 3x - y = 5
         y = 3x - 5
```

**Step 2**: ë‹¤ë¥¸ ë°©ì •ì‹ì— ëŒ€ì…
```
(1)ì—: 2x + 3(3x - 5) = 8
      2x + 9x - 15 = 8
      11x = 23
      x = 23/11
```

**Step 3**: y êµ¬í•˜ê¸°
```
y = 3(23/11) - 5
  = 69/11 - 55/11
  = 14/11
```

---

### 5. í–‰ë ¬ í‘œí˜„: Ax = b â­

#### 5.1 ì—°ë¦½ë°©ì •ì‹ì˜ í–‰ë ¬ í˜•íƒœ

**ì—°ë¦½ë°©ì •ì‹**:
```
{ 2x + 3y = 8
{ 3x - y = 5
```

**í–‰ë ¬ í‘œí˜„**:
```
[2   3] [x]   [8]
[3  -1] [y] = [5]

    A     x  =  b
```

- **A**: ê³„ìˆ˜ í–‰ë ¬ (coefficient matrix)
- **x**: ë¯¸ì§€ìˆ˜ ë²¡í„° (unknown vector)
- **b**: ìƒìˆ˜ ë²¡í„° (constant vector)

#### 5.2 í•´ì˜ ì¡´ì¬ì„±
```
x = Aâ»Â¹b  (Aì˜ ì—­í–‰ë ¬ì´ ì¡´ì¬í•  ë•Œ)
```

**ì¡°ê±´**:
- det(A) â‰  0: ìœ ì¼í•œ í•´ ì¡´ì¬
- det(A) = 0: í•´ê°€ ì—†ê±°ë‚˜ ë¬´ìˆ˜íˆ ë§ìŒ

---

### 6. LLMê³¼ì˜ ì—°ê²°

#### 6.1 ì„ í˜• ë³€í™˜
**ì‹ ê²½ë§ì˜ ê¸°ë³¸ ì—°ì‚°**:
```
y = Wx + b
```

- W: ê°€ì¤‘ì¹˜ í–‰ë ¬
- x: ì…ë ¥ ë²¡í„°
- b: í¸í–¥ ë²¡í„°
- y: ì¶œë ¥ ë²¡í„°

**ì˜ˆì‹œ**:
```python
# ì…ë ¥ ì°¨ì›: 3, ì¶œë ¥ ì°¨ì›: 2
W = [[1, 2, 3],
     [4, 5, 6]]

x = [xâ‚, xâ‚‚, xâ‚ƒ]

y = Wx = [1Â·xâ‚ + 2Â·xâ‚‚ + 3Â·xâ‚ƒ,
          4Â·xâ‚ + 5Â·xâ‚‚ + 6Â·xâ‚ƒ]
```

#### 6.2 ìµœì í™” = ë°©ì •ì‹ í’€ê¸°
**í•™ìŠµ = ìµœì ì˜ ê°€ì¤‘ì¹˜ W ì°¾ê¸°**

```
âˆ‚L/âˆ‚W = 0  (ì†ì‹¤ì„ ìµœì†Œí™”í•˜ëŠ” W ì°¾ê¸°)
```

ì´ê²ƒë„ ì¼ì¢…ì˜ ë°©ì •ì‹!

---

## ğŸ’» Python ì‹¤ìŠµ

### ì‹¤ìŠµ 1: ì¼ì°¨ ë°©ì •ì‹
```python
import numpy as np
from scipy.optimize import fsolve

# ì¼ì°¨ ë°©ì •ì‹: 3x + 5 = 14
def linear_eq(x):
    return 3*x + 5 - 14

# í•´ êµ¬í•˜ê¸°
solution = fsolve(linear_eq, x0=0)[0]
print(f"=== ì¼ì°¨ ë°©ì •ì‹: 3x + 5 = 14 ===")
print(f"í•´: x = {solution}")
print(f"ê²€ì¦: 3({solution}) + 5 = {3*solution + 5}")

# ì§ì ‘ ê³„ì‚°
x_direct = (14 - 5) / 3
print(f"ì§ì ‘ ê³„ì‚°: x = {x_direct}")
```

### ì‹¤ìŠµ 2: ì´ì°¨ ë°©ì •ì‹
```python
import numpy as np
import matplotlib.pyplot as plt

def solve_quadratic(a, b, c):
    """ê·¼ì˜ ê³µì‹ìœ¼ë¡œ ì´ì°¨ ë°©ì •ì‹ í’€ê¸°"""
    discriminant = b**2 - 4*a*c

    if discriminant > 0:
        x1 = (-b + np.sqrt(discriminant)) / (2*a)
        x2 = (-b - np.sqrt(discriminant)) / (2*a)
        return (x1, x2), "ë‘ ì‹¤ê·¼"
    elif discriminant == 0:
        x = -b / (2*a)
        return (x,), "ì¤‘ê·¼"
    else:
        real = -b / (2*a)
        imag = np.sqrt(-discriminant) / (2*a)
        return (complex(real, imag), complex(real, -imag)), "í—ˆê·¼"

# ì˜ˆì‹œ: xÂ² - 5x + 6 = 0
a, b, c = 1, -5, 6
roots, root_type = solve_quadratic(a, b, c)

print(f"=== ì´ì°¨ ë°©ì •ì‹: {a}xÂ² + ({b})x + {c} = 0 ===")
print(f"íŒë³„ì‹ D = {b**2 - 4*a*c}")
print(f"ê·¼ì˜ í˜•íƒœ: {root_type}")
print(f"í•´: {roots}")

# ê²€ì¦
for i, x in enumerate(roots, 1):
    result = a*x**2 + b*x + c
    print(f"ê²€ì¦ {i}: {a}({x})Â² + ({b})({x}) + {c} = {result}")

# ì‹œê°í™”
x_range = np.linspace(-1, 6, 100)
y = a*x_range**2 + b*x_range + c

plt.figure(figsize=(10, 6))
plt.plot(x_range, y, linewidth=2, label=f'y = {a}xÂ² + ({b})x + {c}')
plt.axhline(y=0, color='k', linewidth=0.5)
plt.axvline(x=0, color='k', linewidth=0.5)
plt.grid(True, alpha=0.3)

# ê·¼ í‘œì‹œ
if isinstance(roots[0], complex):
    plt.title('ì´ì°¨ ë°©ì •ì‹ (í—ˆê·¼)', fontsize=14)
else:
    for root in roots:
        plt.plot(root, 0, 'ro', markersize=10, label=f'x = {root:.2f}')
    plt.title('ì´ì°¨ ë°©ì •ì‹ (ì‹¤ê·¼)', fontsize=14)

plt.xlabel('x', fontsize=12)
plt.ylabel('y', fontsize=12)
plt.legend()
plt.tight_layout()
plt.savefig('quadratic_equation.png', dpi=150, bbox_inches='tight')
print("\nê·¸ë˜í”„ ì €ì¥ ì™„ë£Œ!")
```

### ì‹¤ìŠµ 3: ì—°ë¦½ë°©ì •ì‹ (ê°€ê°ë²•, ëŒ€ì…ë²•)
```python
import numpy as np

print("=== ì—°ë¦½ë°©ì •ì‹ ===")
print("2x + 3y = 8")
print("3x - y = 5")
print()

# ë°©ë²• 1: ê°€ê°ë²• (ì§ì ‘ êµ¬í˜„)
print("ë°©ë²• 1: ê°€ê°ë²•")
# (2) Ã— 3: 9x - 3y = 15
# (1) + (2)Ã—3: 11x = 23
x = 23 / 11
y = (8 - 2*x) / 3
print(f"x = {x:.4f}")
print(f"y = {y:.4f}")
print()

# ë°©ë²• 2: ëŒ€ì…ë²•
print("ë°©ë²• 2: ëŒ€ì…ë²•")
# (2)ì—ì„œ: y = 3x - 5
# (1)ì— ëŒ€ì…: 2x + 3(3x - 5) = 8
# 11x - 15 = 8
x_sub = 23 / 11
y_sub = 3*x_sub - 5
print(f"x = {x_sub:.4f}")
print(f"y = {y_sub:.4f}")
print()

# ê²€ì¦
print("ê²€ì¦:")
print(f"2({x:.4f}) + 3({y:.4f}) = {2*x + 3*y:.4f} (â‰ˆ 8)")
print(f"3({x:.4f}) - ({y:.4f}) = {3*x - y:.4f} (â‰ˆ 5)")
```

### ì‹¤ìŠµ 4: í–‰ë ¬ í‘œí˜„ (Ax = b)
```python
import numpy as np

# ì—°ë¦½ë°©ì •ì‹:
# 2x + 3y = 8
# 3x - y = 5

# í–‰ë ¬ í˜•íƒœ: Ax = b
A = np.array([[2, 3],
              [3, -1]])

b = np.array([8, 5])

print("=== í–‰ë ¬ í‘œí˜„: Ax = b ===")
print("A =")
print(A)
print("\nb =")
print(b)
print()

# ë°©ë²• 1: ì—­í–‰ë ¬ (Aâ»Â¹b)
A_inv = np.linalg.inv(A)
x_inv = A_inv @ b

print("ë°©ë²• 1: x = Aâ»Â¹b")
print(f"Aâ»Â¹ =")
print(A_inv)
print(f"\nx = {x_inv}")
print()

# ë°©ë²• 2: NumPyì˜ ì„ í˜• ë°©ì •ì‹ ì†”ë²„
x_solve = np.linalg.solve(A, b)

print("ë°©ë²• 2: np.linalg.solve(A, b)")
print(f"x = {x_solve}")
print()

# ê²€ì¦
result = A @ x_solve
print("ê²€ì¦: Ax = b")
print(f"Ax = {result}")
print(f"b  = {b}")
print(f"ê°™ìŒ? {np.allclose(result, b)}")

# í–‰ë ¬ì‹ í™•ì¸
det_A = np.linalg.det(A)
print(f"\ní–‰ë ¬ì‹ det(A) = {det_A:.4f}")
if det_A != 0:
    print("âœ“ det(A) â‰  0 â†’ ìœ ì¼í•œ í•´ ì¡´ì¬")
else:
    print("âœ— det(A) = 0 â†’ í•´ê°€ ì—†ê±°ë‚˜ ë¬´ìˆ˜íˆ ë§ìŒ")
```

### ì‹¤ìŠµ 5: ì‹ ê²½ë§ì˜ ì„ í˜• ì¸µ
```python
import numpy as np

class LinearLayer:
    """ì‹ ê²½ë§ì˜ ì„ í˜• ì¸µ: y = Wx + b"""

    def __init__(self, input_dim, output_dim):
        # ê°€ì¤‘ì¹˜ ì´ˆê¸°í™”
        self.W = np.random.randn(output_dim, input_dim) * 0.01
        self.b = np.zeros(output_dim)

    def forward(self, x):
        """ìˆœì „íŒŒ: y = Wx + b"""
        return self.W @ x + self.b

# ì˜ˆì‹œ: 3ì°¨ì› ì…ë ¥ â†’ 2ì°¨ì› ì¶œë ¥
layer = LinearLayer(input_dim=3, output_dim=2)

# ì…ë ¥ ë²¡í„°
x = np.array([1.0, 2.0, 3.0])

print("=== ì‹ ê²½ë§ ì„ í˜• ì¸µ: y = Wx + b ===")
print(f"ì…ë ¥ x: {x}")
print(f"ì…ë ¥ ì°¨ì›: {x.shape}")
print()

print(f"ê°€ì¤‘ì¹˜ W:\n{layer.W}")
print(f"í¸í–¥ b: {layer.b}")
print()

# ì¶œë ¥ ê³„ì‚°
y = layer.forward(x)

print(f"ì¶œë ¥ y: {y}")
print(f"ì¶œë ¥ ì°¨ì›: {y.shape}")
print()

# ìˆ˜ë™ ê³„ì‚°
print("ìˆ˜ë™ ê³„ì‚°:")
print(f"y[0] = {layer.W[0, 0]:.4f}Ã—{x[0]} + {layer.W[0, 1]:.4f}Ã—{x[1]} + {layer.W[0, 2]:.4f}Ã—{x[2]} + {layer.b[0]:.4f}")
print(f"     = {layer.W[0] @ x + layer.b[0]:.4f}")
print()
print(f"y[1] = {layer.W[1, 0]:.4f}Ã—{x[0]} + {layer.W[1, 1]:.4f}Ã—{x[1]} + {layer.W[1, 2]:.4f}Ã—{x[2]} + {layer.b[1]:.4f}")
print(f"     = {layer.W[1] @ x + layer.b[1]:.4f}")

print("\nâœ… ì‹ ê²½ë§ì˜ ì„ í˜• ì¸µ = í–‰ë ¬-ë²¡í„° ê³±ì…ˆ = ì—°ë¦½ë°©ì •ì‹!")
```

---

## âœï¸ ì† ê³„ì‚° ì—°ìŠµ

### ì—°ìŠµ 1: ì¼ì°¨ ë°©ì •ì‹
ë‹¤ìŒì„ í’€ì–´ë³´ì„¸ìš”:

1. 2x + 7 = 15
   ```
   2x = 15 - 7
   2x = 8
   x = 4
   ```

2. 5x - 3 = 17
   ```
   5x = 17 + 3
   5x = 20
   x = 4
   ```

### ì—°ìŠµ 2: ì´ì°¨ ë°©ì •ì‹
ë‹¤ìŒì„ ê·¼ì˜ ê³µì‹ìœ¼ë¡œ í’€ì–´ë³´ì„¸ìš”:

1. xÂ² - 3x + 2 = 0
   ```
   a = 1, b = -3, c = 2
   D = 9 - 8 = 1

   x = (3 Â± 1) / 2
     = 2 ë˜ëŠ” 1
   ```

2. xÂ² + 2x + 1 = 0
   ```
   a = 1, b = 2, c = 1
   D = 4 - 4 = 0

   x = -2 / 2 = -1 (ì¤‘ê·¼)
   ```

### ì—°ìŠµ 3: ì—°ë¦½ë°©ì •ì‹ (ê°€ê°ë²•)
```
{ x + 2y = 7   ... (1)
{ 3x - y = 5   ... (2)

Step 1: (2) Ã— 2
6x - 2y = 10   ... (3)

Step 2: (1) + (3)
(x + 2y) + (6x - 2y) = 7 + 10
7x = 17
x = 17/7

Step 3: (1)ì— ëŒ€ì…
17/7 + 2y = 7
2y = 7 - 17/7 = 32/7
y = 16/7
```

### ì—°ìŠµ 4: í–‰ë ¬ í‘œí˜„
ë‹¤ìŒ ì—°ë¦½ë°©ì •ì‹ì„ Ax = b í˜•íƒœë¡œ ì“°ì„¸ìš”:
```
{ 4x + y = 10
{ 2x - 3y = 6

ë‹µ:
[4   1] [x]   [10]
[2  -3] [y] = [ 6]
```

---

## ğŸ”— LLM ì—°ê²°ì 

### 1. ì„ í˜• ì¸µ (Linear Layer)
```python
# PyTorch ìŠ¤íƒ€ì¼
y = W @ x + b

# ì…ë ¥: [batch, 512]
# ê°€ì¤‘ì¹˜: [512, 768]
# ì¶œë ¥: [batch, 768]
```

### 2. Attentionì˜ QKV ë³€í™˜
```python
Q = W_Q @ x  # Query
K = W_K @ x  # Key
V = W_V @ x  # Value

# ê°ê°ì´ Wx = y í˜•íƒœì˜ ì„ í˜• ë³€í™˜!
```

### 3. ìµœì í™” = ë°©ì •ì‹ í’€ê¸°
```
ì†ì‹¤ì„ ìµœì†Œí™”í•˜ëŠ” W ì°¾ê¸°:
âˆ‚L/âˆ‚W = 0

ì´ê²ƒë„ ë°©ì •ì‹!
(ë§¤ìš° ë³µì¡í•´ì„œ ê²½ì‚¬í•˜ê°•ë²• ì‚¬ìš©)
```

---

## âœ… ì²´í¬í¬ì¸íŠ¸

- [ ] **ì¼ì°¨ ë°©ì •ì‹ì„ í’€ ìˆ˜ ìˆë‚˜ìš”?**

- [ ] **ì´ì°¨ ë°©ì •ì‹ì˜ ê·¼ì˜ ê³µì‹ì„ ì™¸ì› ë‚˜ìš”?**

- [ ] **ì—°ë¦½ë°©ì •ì‹ì„ ê°€ê°ë²•ìœ¼ë¡œ í’€ ìˆ˜ ìˆë‚˜ìš”?**

- [ ] **ì—°ë¦½ë°©ì •ì‹ì„ Ax = b í˜•íƒœë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‚˜ìš”?**

- [ ] **ì‹ ê²½ë§ì˜ y = Wx + bê°€ ì„ í˜• ë³€í™˜ì„ì„ ì´í•´í–ˆë‚˜ìš”?**

---

## ğŸ“ í•µì‹¬ ìš”ì•½

1. **ë³€ìˆ˜**: ê°’ì´ ë³€í•  ìˆ˜ ìˆëŠ” ê¸°í˜¸
2. **ì¼ì°¨ ë°©ì •ì‹**: ax + b = 0, x = -b/a
3. **ì´ì°¨ ë°©ì •ì‹**: axÂ² + bx + c = 0, ê·¼ì˜ ê³µì‹
4. **ì—°ë¦½ë°©ì •ì‹**: ê°€ê°ë²•, ëŒ€ì…ë²•
5. **í–‰ë ¬ í‘œí˜„**: Ax = b
6. **ì‹ ê²½ë§**: y = Wx + b (ì„ í˜• ë³€í™˜)

### ë‹¤ìŒ í•™ìŠµ
- **Day 8-10**: ì¢Œí‘œí‰ë©´ê³¼ ë²¡í„° ê¸°ì´ˆ
  - ë²¡í„°ì˜ ì‹œê°í™”
  - ë²¡í„° ì—°ì‚°

---

**ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤!** ğŸ‰
